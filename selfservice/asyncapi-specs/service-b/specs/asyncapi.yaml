asyncapi: 2.5.0
info:
  title: api days paris
  version: 2.0.1
  contact:
    name: mep
    url: http://mep.int.kn
    email: rui@kuehne-nagel.com
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html  
  description: asynch api in paris with kn

defaultContentType: application/vnd.confluent.avro

channels:
  paris.apidays.v1:
    description: asyncapi with gitops
    bindings:
      kafka:
        topic: paris.apidays.v1
        partitions: 2
        replicas: 3
        topicConfiguration:
          cleanup.policy: delete
        bindingVersion: 0.4.0
    subscribe:
      summary: the operation provides events
      description: this event is amazing!
      operationId: parisApiDays
      message:
        name: parisApiDays
        summary: thank you everyone
        bindings:
          kafka:
            schemaIdLocation: payload
            schemaIdPayloadEncoding: confluent
            bindingVersion: 0.4.0
        payload:
          $ref: ../schemas/parisApiDays.avsc
        examples:
          - summary: The title summarizing the change to the API.
            headers:
              $ref: ../examples/payload.json
            payload:
              $ref: ../examples/payload.json

tags:
  - name: notifications
    description: an api used to notify users